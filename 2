using System.Text.RegularExpressions;

class MainClass
{
    record Person(int ID, string FirstName, string LastName);

    static int ID = 1;
    static List<Person> people = new List<Person>();

    Action action = Action.Add;

    public static void Main(string[] args)
    {
        void Action(Choice choice)
        {
            while (true)
            {
                switch (choice)
                {
                    case Choice.Add:
                        Add();
                        break;
                    case "Edit":
                        Edit();
                        break;
                    case "Remove":
                        Remove();
                        break;
                    case "List":
                        List();
                        break;
                    case "Exit":
                        return;
                }
            }
        }
    }
        enum Choice
    {
        Add,
        Edit,
        Remove,
        List
    };
}


    static void Add()
    {
        Console.Write("\nName: ");
        string fn = Console.ReadLine();

        Console.Write("LastName: ");
        string ln = Console.ReadLine();

        Person user = new Person(ID++, fn, ln);
        people.Add(user);

        Console.WriteLine("\nPerson added successfully\n");
    }

    static void Edit()
    {
        Console.Write("\nEnter the id of the person you want to edit: ");
        int id = Convert.ToInt32(Console.ReadLine());

        Person person = people.Find(p => p.ID == id);
        if (person == null)
        {
            Console.WriteLine("\nNo person found with id\n" + id);
            return;
        }

        Console.Write("\nEnter the new first name: ");
        string newFirstName = Console.ReadLine();

        Console.Write("Enter the new last name: ");
        string newLastName = Console.ReadLine();

        int index = people.IndexOf(person);
        people[index] = person with { 
              FirstName = newFirstName, 
              LastName = newLastName
        };

        Console.WriteLine("\nPerson edited successfully\n");
    }

    static void Remove()
    {
        Console.Write("\nEnter the id of the person you want to remove: ");
        int id = Convert.ToInt32(Console.ReadLine());

        Person person = people.Find(p => p.ID == id);
        if (person == null)
        {
            Console.WriteLine("\nNo person found with id\n" + id);
            return;
        }

        people.Remove(person);

        Console.WriteLine("\nPerson removed successfully\n");
    }

    static void List()
    {
        Console.WriteLine("\nId\tFirst Name\tLast Name");
        foreach (var person in people)
        {
            Console.WriteLine("\n" + person.ID + "\t" + person.FirstName + "\t\t" + person.LastName);
        }
    }
}
